<html>
    <head>
        <title>The Ebook Hub</title>
        <link rel="stylesheet" href="CSS/shop_stylesheet.css"/>
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
        <meta charset="UTF-8"/>
    </head>
    
    <body>
        <div id="navigation">
            <div id="titel" class="navElemente">
                <a id="title_font" href="Home.html">The Ebook Hub</a>
            </div>

            <div id="selectNav" class="navElemente">              
                    <a href="Home.html">HOME</a>     
                    <a href="Shop.html">SHOP</a>   
                    <a href="AuthorPageÜbersicht.html">AUTOREN</a>          
                    <a href="Warenkorb.html">
                    <img id="warenkorb" src="sources/Warenkorb.png" alt="Warenkorb">
                    </a>                 
            </div>

            <div id="logo"></div>
        </div>   
        
        <div class="shop_body_container" id="shop_container">
			<h1 id="shop_headline">Shop-Übersicht</h1>
		
		
		
			<div class="Left_container" id="l_container">

				<div id="filter_box">

					<p>Alle Bücher:</p>
				
					
					
					<p class="filter_hover" onclick="show_cat()"><span id="span_cat">&#8722;</span> Kategorien:</p>
					<div id="cat">
					
						<form>
				
						<div class="elements">
							<input name="cat_1" type="checkbox" id="Fantasy" color="orange"> 
							<label for="Fantasy">Fantasy</label>

						</div>

						<div class="elements">
							<input name="cat_2" type="checkbox" id="Horror"> 
							<label for="Horror">Horror</label>

						</div>

						<div class="elements">
							<input name="cat_3" type="checkbox" id="Humor"> 
							<label for="Humor">Humor</label>

						</div>

						<div class="elements">
							<input name="cat_4" type="checkbox" id="Krimi"> 
							<label for="Krimi">Krimi</label>

						</div>

						<div class="elements">
							<input name="cat_5" type="checkbox" id="Ratgeber"> 
							<label for="Ratgeber">Ratgeber</label>

						</div>

						<div class="elements">
							<input name="cat_6" type="checkbox" name="r" id="Roman"> 
							<label for="Roman">Roman</label>

						</div>

						<div class="elements">
							<input name="cat_7" type="checkbox" id="Sachbücher"> 
							<label for="Sachbücher">Sachbücher</label>

						</div>

						<div class="elements">
							<input name="cat_8" type="checkbox" id="Thriller"> 
							<label for="Thriller">Thriller</label>

						</div>
						
					
					</div>
					
					
					

					
						
						<p class="filter_hover" onclick="show_price_slider()"><span id="span_price">&minus;</span> Preis:</p>
						<div id="Price_box">
							
							<!--<div onclick="function_plus()" class="plus">+</div>-->

							<div class="plus filter_hover"><span onclick="function_plus()">&plus;</span></div>


							<div class="minus filter_hover"><span onclick="function_minus()">&minus;</span></div>

							<!--<div onclick="function_minus()" class="minus">-</div>-->

							<!-- <div class="slidecontainer">
								<p class="Space"><input type="range" min="1" max="120" value="60" class="slider" id="myRange">
								0&#8364; <span id="demo"></span>&#8364; 120&#8364;</p>
							</div> -->

							<div class="slidecontainer">
								<input name="price" type="range" min="1" max="120" value="60" class="slider" id="myRange">
								<p>
								<span id="Space1">0&#8364;</span> <span id="demo"></span><span>&#8364;</span> <span id="Space2">120&#8364;</span>
								</p>
							</div>

						</div>
					


					
					
					<p class="filter_hover" onclick="show_ratings()"><span id="span_rating">&minus;</span> Bewertungen:</p>

					<div class = "Bewertungen" id="Rating_box">
						 
						
						
						<p><input name="rating_1s" type="checkbox" id="1Sterne">
						<span class="fa fa-star checked_star"></span>
						<span class="fa fa-star"></span>
						<span class="fa fa-star"></span>
						<span class="fa fa-star"></span>
						<span class="fa fa-star"></span></p>

						<p></p><input name="rating_2s" type="checkbox" id="2Sterne">
						<span class="fa fa-star checked_star"></span>
						<span class="fa fa-star checked_star"></span>
						<span class="fa fa-star"></span>
						<span class="fa fa-star"></span>
						<span class="fa fa-star"></span></p>


						<p></p><input name="rating_3s" type="checkbox" id="3Sterne"><span class="fa fa-star checked_star"></span>
						<span class="fa fa-star checked_star"></span>
						<span class="fa fa-star checked_star"></span>
						<span class="fa fa-star"></span>
						<span class="fa fa-star"></span></p>


						<p></p><input name="rating_4s" type="checkbox" id="4Sterne"><span class="fa fa-star checked_star"></span>
						<span class="fa fa-star checked_star"></span>
						<span class="fa fa-star checked_star"></span>
						<span class="fa fa-star checked_star"></span>
						<span class="fa fa-star"></span></p>


						<p></p><input name="rating_5s" type="checkbox" id="5Sterne"><span class="fa fa-star checked_star"></span>
						<span class="fa fa-star checked_star"></span>
						<span class="fa fa-star checked_star"></span>
						<span class="fa fa-star checked_star"></span>
						<span class="fa fa-star checked_star"></span></p>

						
						
						

					</div>
					
						<input type="submit" value="submit"></input>

					</form>

					
				</div>
			
			</div>
			
			<form class="searchbar_container">
				<input type="text" placeholder="Nach Titel, Autor oder ISBN suchen..." name="search" id=searchid>
				<button type="submit" >	<i class="fa fa-search"> </i>	</button>
			</form>
		
			
			<div class="artikel_buble">
				<a href="../Book_1/index.html">
				
				<img class="artikel_img_container" src="sources/2.jpg"></img>
				<div class="artikel_text_container">
					<p>
						<span class="Price_attribute">27,44&euro;</span>
						<br><br>
						
						<span class="Author_attribute_tag">Titel:</span>
						<br>
						<span class="Author_attribute"> A Bear`s Bride Entwined Tales<br></span>
						<br>
						
						<span class="Author_attribute_tag">Author:</span>
						<br>
						<span class="Author_attribute"> Shari L. Tapscott</span>
						<br><br>
						
						<span class="Author_attribute_tag">Genre:</span>
						<br>
						<span class="Author_attribute"> Roman </span>
						
						<br><br>

						<span class="Author_attribute_tag">Bewertung:</span>
						<span> (12) </span>
						<br>
						<div class="rating_container">
							<span class="fa fa-star checked_star"></span>
							<span class="fa fa-star checked_star"></span>
							<span class="fa fa-star checked_star"></span>
							<span class="fa fa-star"></span>
							<span class="fa fa-star"></span>
						</div>
					</p>
				</div>	
				</a>
			</div>
			
			
			
			
			
			<div class="artikel_buble">
				<a href="https://www.google.com/">
				
				<img class="artikel_img_container" src="sources/1.jpg"></img>
				<div class="artikel_text_container">
					<p>
						<span class="Price_attribute">27,44&euro;</span>
						<br><br>
						
						
						<span class="Author_attribute_tag">Titel:</span>
						<br>
						<span class="Author_attribute"> DUMMY!<br></span>
						<br><br>
						

						<span class="Author_attribute_tag">Author:</span>
						<br>
						<span class="Author_attribute"> ------ </span>
						<br><br>
						
						<span class="Author_attribute_tag">Genre:</span>
						<br>
						<span class="Author_attribute"> --------- </span>
						
						<br><br>
						
						<span class="Author_attribute_tag">Bewertung:</span>
						<span> (12) </span>
						<br>
						<div class="rating_container">
							<span class="fa fa-star"></span>
							<span class="fa fa-star"></span>
							<span class="fa fa-star"></span>
							<span class="fa fa-star"></span>
							<span class="fa fa-star"></span>
						</div>
					</p>
				</div>	
				
				</a>
			</div>
			
			
			
			
						
		
			
		</div>
		
		<script src="JS/shop.js"></script>

        <div id="footer">
            <div id="selectFooter" class="FooterElemente">              
                <a href="Impressum.html">Impressum und Kontakt</a>     
                <a href="Datenschutzerklärung.html">Datenschutz</a>   
                <a href="Widerrufsrecht.html">Widerrufsrecht</a>     
            </div>
            <div id="copyright"></div>
        </div>



		<script>

			$(document).ready(function() {
            console.log('document page ready!');

            	$.ajax({
               		url: 'http://localhost:8000/web2/shop/gib/all',
                	method: 'get',
                	dataType: 'json'
            	}).done(function (response) {
					console.log("Daten erfolgreich geladen!");
                	console.log(response);
                	
					var tmp="";

					//append to id "#shop_container"

					for (i = 0; i <= response.daten.length; i++) {
						var obj = response.daten[i];

						tmp += "<div class=\"artikel_buble\"><a href=\"http://localhost:8000/web2/buch/gib/";       //Das stimmt so nicht mit dem Href nur übergangsweise hier mal api abfrage gemacht,
						tmp += obj.id + "\">";																		// zur teoretischen Kontrolle. Problem: Die Route existiert noch nicht.
																													 // müsste localhost:8000/buch/ und dann +  ?id="28" Parameter Übergabe zur Buchseite
																													 // Man könnte auf der Buchseite dann clienseitig die ID auswerten und an web2/buch/gib/:id die Daten holen
																													// Die ID muss aber irgendwie von der ShopSeite zur Artikelseite gebracht werden. Noch
																													// überfragt.

						tmp += "<img class=\"artikel_img_container\" src=" + "obj.bildid id mit web2/bilder/gib/:id"  +"\"></img>";
						tmp += "<div class=\"artikel_text_container\"> <p> "
						tmp += "<span class=\"Price_attribute\">"  +  obj.preis +   "&euro;</span> <br><br>";

						tmp += "<span class=\"Author_attribute_tag\">" + obj.titel +  ":</span> <br> ";
						
						tmp += "<span class=\" Author_attribute \">" + "obj.author id mit web2/autor/gib/:id" + "<br></span> <br><br>";
						
						tmp += "<span class=\"Author_attribute_tag\">Genre:" + "obj.genreid mit web2/genre/gib/:id" + "</span><br><br> ";

						tmp += "<span class=\"Author_attribute_tag\">Bewertung:</span> <span>" + "obj.AnzahlBewerungen mit web2/bew/gibAnz/:id" + "</span> ";

						// hier muss mit einer if abfrage wenn die Anzahl der Sterne geladen wurde dann entsprehend <span class="fa fa-star"></span> eingefügt werden.

						tmp += "</p></div></a></div>";

						
						$("#shop_container").append(tmp);

					}
					




            	}).fail(function (jqXHR, statusText, error) {
                	console.log('Response Code: ' + jqXHR.status + ' - Fehlermeldung: ' + jqXHR.responseText);
                	$('#output').html('Ein Fehler ist aufgetreten');
            	});



				$("#searchid").keyup(function(){
					var txt = $(this).val();

					if (txt != ""){

					}

					else{
						$.ajax({
							url: '',
							method: 'post',
							dataType: 'text'
							
							}).done(function (response) {
								console.log("Daten erfolgreich geladen!");
								console.log(response);
								
								var tmp="";

								

								for (i = 0; i <= response.daten.length; i++) {
									var obj = response.daten[i];





								
								}

						})





        	});

		</script>















    </body>
</html>